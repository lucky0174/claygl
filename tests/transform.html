<html>
    <head>
        <meta charset="utf-8">
        <script type="text/javascript" src="../thirdparty/require.js"></script>
    </head>
    <body>
        <canvas width="1200" height="640" id="Main"></canvas>
        <script type="text/javascript">
            requirejs.config({
                'baseUrl' : '../src',
                'paths' : {
                    '_' : '../thirdparty/lodash.compat',
                    'glmatrix' : '../thirdparty/gl-matrix'
                }
            })

            require(['qtek'], function(qtek){
                var qtek3d = qtek['3d'],
                    Shader = qtek3d.Shader,
                    Vector3 = qtek.core.Vector3;

                var glMatrix = require("glmatrix");
                var mat4 = glMatrix.mat4;
                var quat = glMatrix.quat;
                var mat3 = glMatrix.mat3;

                var node = new qtek3d.Node();
                var m = mat4.create();

                mat4.rotateX(m, m, 0.1);
                mat4.rotateY(m, m, 0.1);
                mat4.rotateZ(m, m, 0.1);

                qtek3d.Node.decomposeMatrix(m, node.scale, node.rotation, node.position);

                var rotation = new Vector3();
                rotation.setEulerFromQuaternion(node.rotation);

                console.log(rotation.toString());

                // node.quaternion.identity();
                // node.quaternion.rotateX(0.1);
                // node.quaternion.rotateY(0.1);
                // node.quaternion.rotateZ(0.1);

                // console.log(node.quaternion.toString());

                // mat4.invert(m, m);

                // var m3 = mat3.create();
                // mat3.fromMat4(m3, m);
                // var q1 = quat.create();
                // quat.fromMat3(q1, m3);
                // console.log(m3);

                // var q2 = quat.create();
                // quat.rotateX(q2, q2, 0.1);
                // quat.rotateY(q2, q2, 0.1);
                // quat.rotateZ(q2, q2, 0.1);
                // mat3.fromQuat(m3, q2);
                // console.log(m3);
            })
            
        </script>
    </body>
</html>